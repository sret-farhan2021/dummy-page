<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Gift</title>
    <style>
        :root {
            --bg-color: #fff5f7;
            --box-color: #ffd700;
            --ribbon-color: #ff3838;
            --rose-color: #ff4d6d;
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: var(--bg-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        #canvas-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- THE BOX --- */
        .gift-container {
            position: relative;
            width: 200px;
            height: 200px;
            cursor: pointer;
            z-index: 10;
            transition: transform 0.3s ease;
        }

        .gift-container:hover {
            transform: scale(1.05);
        }

        .box-body {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 150px;
            background-color: var(--box-color);
            border-radius: 0 0 10px 10px;
            box-shadow: inset 0 -10px 20px rgba(0,0,0,0.1);
        }

        .box-lid {
            position: absolute;
            top: 20px;
            width: 110%;
            left: -5%;
            height: 40px;
            background-color: var(--box-color);
            border-radius: 5px;
            z-index: 2;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        /* --- THE RIBBONS --- */
        .ribbon-v, .ribbon-h {
            position: absolute;
            background-color: var(--ribbon-color);
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }

        .ribbon-v {
            width: 40px;
            height: 100%;
            left: 50%;
            transform: translateX(-50%);
        }

        .ribbon-h {
            width: 100%;
            height: 40px;
            top: 50%;
            transform: translateY(-50%);
        }

        .bow {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 40px;
            z-index: 3;
            transition: opacity 0.5s ease;
        }

        .bow::before, .bow::after {
            content: '';
            position: absolute;
            width: 45px;
            height: 45px;
            border: 10px solid var(--ribbon-color);
            border-radius: 50% 50% 0 50%;
            transform: rotate(45deg);
        }

        .bow::after {
            left: 35px;
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
        }

        /* --- ANIMATION STATES --- */
        .open .box-lid {
            transform: translateY(-200px) rotate(15deg);
            opacity: 0;
        }

        .open .bow {
            opacity: 0;
        }

        .open .ribbon-v {
            height: 0;
            transition: height 0.5s ease;
        }

        /* --- THE BIG ROSE --- */
        .center-rose {
            position: absolute;
            bottom: 50%;
            left: 50%;
            transform: translate(-50%, 50%) scale(0) rotate(-10deg);
            z-index: 5;
            transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-align: center;
            pointer-events: none;
        }

        .open + .center-rose {
            transform: translate(-50%, 0%) scale(1) rotate(-10deg);
        }

        .rose-text {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            font-weight: bold;
            color: white;
            font-size: 1.2rem;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
            pointer-events: none;
        }

        /* --- RAINING ROSES --- */
        .falling-rose {
            position: absolute;
            top: -50px;
            z-index: 1;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(105vh) rotate(360deg);
            }
        }
    </style>
</head>
<body>

<div id="canvas-container">
    <div class="gift-container" id="giftBox" onclick="openBox()">
        <div class="bow"></div>
        <div class="box-lid">
            <div class="ribbon-v"></div>
            <div class="ribbon-h"></div>
        </div>
        <div class="box-body">
            <div class="ribbon-v"></div>
        </div>
    </div>

    <div class="center-rose" id="mainRose">
        <svg width="250" height="400" viewBox="0 0 200 400">
            <path d="M100,380 Q120,250 100,150" fill="none" stroke="#2d6a4f" stroke-width="8" />
            <path d="M100,280 Q150,260 140,220" fill="#40916c" />
            <path d="M100,320 Q50,300 60,260" fill="#40916c" />
            <circle cx="100" cy="120" r="60" fill="#ff4d6d" />
            <circle cx="80" cy="100" r="50" fill="#ff758f" />
            <circle cx="120" cy="100" r="50" fill="#ff8fa3" />
            <circle cx="100" cy="80" r="40" fill="#c9184a" />
        </svg>
        <div class="rose-text">YOU ARE AMAZING!</div>
    </div>
</div>

<script>
    function openBox() {
        const box = document.getElementById('giftBox');
        if(!box.classList.contains('open')) {
            box.classList.add('open');
            startRoseRain();
        }
    }

    function createSmallRose() {
        const rose = document.createElement('div');
        rose.classList.add('falling-rose');
        
        // Randomly choose rose or petal shape
        rose.innerHTML = `
            <svg width="20" height="20" viewBox="0 0 20 20">
                <circle cx="10" cy="10" r="8" fill="#ff4d6d" opacity="0.8"/>
            </svg>
        `;
        
        rose.style.left = Math.random() * 100 + 'vw';
        rose.style.animationDuration = (Math.random() * 3 + 2) + 's';
        rose.style.opacity = Math.random();
        
        document.getElementById('canvas-container').appendChild(rose);
        
        // Clean up
        setTimeout(() => {
            rose.remove();
        }, 5000);
    }

    function startRoseRain() {
        setInterval(createSmallRose, 150);
    }
</script>

</body>
</html>
